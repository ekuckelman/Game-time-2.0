/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

	const canvas = document.getElementById('game');
	const context = canvas.getContext('2d');
	const Game = __webpack_require__(1);
	const startButton = document.querySelector('.start');
	const winVideo = document.querySelector('.video');
	const restartButton = document.querySelector('.reStart');
	const levelNum = document.querySelector('.level');
	let startScreen = document.querySelector('.start-screen');
	let newGame = new Game();
	let audio = new Audio('./images/Bomb+2.mp3');
	let audio2 = new Audio('./images/Power Failure-SoundBible.com-1821346166.mp3');
	let audio3 = new Audio('./images/ragnarok_-_level_up.mp3');
	let audio4 = new Audio('images/fail-trombone-01.mp3');
	let rightPressed;
	let leftPressed;
	
	winVideo.addEventListener('click', restartGame);
	startButton.addEventListener('click', startGame);
	restartButton.addEventListener('click', restartGame);
	document.addEventListener('keydown', e => keyDown(e), false);
	document.addEventListener('keyup', e => keyUp(e), false);
	
	const keyDown = e => {
	  if (e.keyCode === 39) {
	    rightPressed = true;
	  } else if (e.keyCode === 37) {
	    leftPressed = true;
	  }
	};
	
	const keyUp = e => {
	  if (e.keyCode === 39) {
	    rightPressed = false;
	  } else if (e.keyCode === 37) {
	    leftPressed = false;
	  }
	};
	
	function startGame() {
	  startScreen.classList.add('start-game');
	  gameLoop();
	}
	
	function restartGame() {
	  window.location.reload(true);
	}
	
	function gameLoop() {
	  context.clearRect(0, 0, canvas.width, canvas.height);
	  newGame.draw(context);
	  newGame.move(canvas, rightPressed, leftPressed);
	  newGame.collision(audio, audio2);
	  newGame.stats(context);
	  if (gameOver(audio4)) {
	    return;
	  }
	  nextLevel();
	  requestAnimationFrame(gameLoop);
	}
	
	function nextLevel() {
	  if (newGame.newLevel(context)) {
	    levelNum.innerText = `Level ${newGame.level}`;
	    audio3.play();
	    win();
	  }
	}
	
	function win() {
	  if (newGame.level === 3) {
	    winVideo.style.display = 'block';
	    window.cancelAnimationFrame();
	  }
	}
	
	function gameOver() {
	  if (newGame.lives === 0) {
	    let showGameOver = document.querySelector('.show-game-over');
	
	    showGameOver.classList.remove('game-over');
	    audio4.play();
	    return true;
	  }
	}

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

	const Ball = __webpack_require__(2);
	const Blocks = __webpack_require__(4);
	const Paddle = __webpack_require__(6);
	let newBall = new Ball(150, 135, 12);
	let newBlocks = new Blocks();
	let newPaddle = new Paddle(120, 15);
	
	newBlocks.createBlockArray();
	
	class Game {
	  constructor() {
	    this.scoreCount = 0;
	    this.lives = 3;
	    this.level = 1;
	  }
	
	  draw(context) {
	    newBall.drawBall(context);
	    newBlocks.drawBlocks(context);
	    newPaddle.drawPaddle(context);
	  }
	
	  stats(context) {
	    context.font = '22px Arial';
	    context.fillText(`Score: ${this.scoreCount}`, 10, 18);
	    context.font = '22px Arial';
	    context.fillText(`Lives: ${this.lives}`, 750, 18);
	  }
	
	  move(canvas, rightPressed, leftPressed) {
	    newBall.moveBall(canvas);
	    newPaddle.movePaddle(rightPressed, leftPressed, canvas);
	  }
	
	  collision(audio, audio2) {
	    newBall.ballCollision(newPaddle);
	    if (newBall.gameOver(newPaddle)) {
	      audio2.play();
	      this.lives--;
	      newBall = new Ball(150, 135, 12);
	    }
	    if (newBlocks.blockBallCollision(newBall)) {
	      audio.play();
	      this.scoreCount++;
	    }
	  }
	
	  newLevel(context) {
	    if (newBlocks.blocksCount()) {
	      this.level++;
	      newBall = new Ball(150, 135, 12);
	      newBall.dx++;
	      newBlocks = new Blocks(68, 20);
	      newPaddle = new Paddle(80, 15);
	      newBlocks.createBlockArray();
	      this.draw(context);
	      return true;
	    }
	  }
	}
	
	module.exports = Game;

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

	const Gamepieces = __webpack_require__(3);
	
	class Ball extends Gamepieces {
	  constructor(x, y, radius) {
	    super(x, y);
	    this.radius = radius;
	    this.dx = 4;
	    this.dy = 4;
	    this.color = 'white';
	  }
	
	  drawBall(context) {
	    context.beginPath();
	    context.arc(this.x, this.y, this.radius, 0, 2 * Math.PI, false);
	    context.fillStyle = this.color;
	    context.fill();
	    context.closePath();
	  }
	
	  moveBall(canvas) {
	    if (this.x + this.radius > canvas.width || this.x < 10) {
	      this.dx = -this.dx;
	    }
	    if (this.y + this.radius < 10) {
	      this.dy = -this.dy;
	    }
	    this.x += this.dx;
	    this.y += this.dy;
	    return this;
	  }
	
	  ballCollision(newPaddle) {
	    if (this.x + this.radius > newPaddle.x + 3 && this.x - this.radius - 2 < newPaddle.x + newPaddle.w && this.y + this.radius >= newPaddle.y) {
	      this.dy = -this.dy;
	    }
	  }
	
	  gameOver(newPaddle) {
	    if (this.y - this.radius >= newPaddle.y) {
	      return true;
	    }
	  }
	}
	
	module.exports = Ball;

/***/ }),
/* 3 */
/***/ (function(module, exports) {

	class Gamepieces {
	  constructor(x, y) {
	    this.x = x;
	    this.y = y;
	  }
	}
	
	module.exports = Gamepieces;

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

	const Block = __webpack_require__(5);
	const newBlock = new Block(68, 20, '#5f7b7d');
	
	class Blocks {
	  constructor() {
	    this.blocksArray = [];
	    this.count = 0;
	  }
	
	  isActive(context, brickX, brickY) {
	    context.beginPath();
	    context.rect(brickX, brickY, newBlock.width, newBlock.height);
	    context.fillStyle = newBlock.color;
	    context.fill();
	    context.closePath();
	  }
	
	  createBlockArray() {
	    for (let c = 0; c < 11; c++) {
	      this.blocksArray[c] = [];
	      for (let r = 0; r < 4; r++) {
	        this.blocksArray[c][r] = {
	          x: 0,
	          y: 0,
	          status: 'active'
	        };
	      }
	    }
	  }
	
	  drawBlocks(context) {
	    for (let c = 0; c < 11; c++) {
	      for (let r = 0; r < 4; r++) {
	        if (this.blocksArray[c][r].status === 'active') {
	          let blockX = c * (newBlock.width + 5) + 20;
	          let blockY = r * (newBlock.height + 5) + 25;
	
	          this.blocksArray[c][r].x = blockX;
	          this.blocksArray[c][r].y = blockY;
	          this.isActive(context, blockX, blockY);
	        }
	      }
	    }
	  }
	
	  blockBallCollision(newBall) {
	    for (let c = 0; c < 11; c++) {
	      for (let r = 0; r < 4; r++) {
	        let eachBlock = this.blocksArray[c][r];
	
	        if (eachBlock.status === 'active') {
	          if (newBall.x > eachBlock.x && newBall.x < eachBlock.x + newBlock.width && newBall.y - newBall.radius < eachBlock.y + newBlock.height && newBall.y - newBall.radius < eachBlock.y + newBlock.height) {
	            newBall.dy = -newBall.dy;
	            eachBlock.status = 'inactive';
	            this.count++;
	            this.blocksCount();
	            return true;
	          }
	        }
	      }
	    }
	  }
	
	  blocksCount() {
	    if (this.count === 44) {
	      return true;
	    }
	  }
	}
	
	module.exports = Blocks;

/***/ }),
/* 5 */
/***/ (function(module, exports) {

	class Block {
	  constructor(w, h, color) {
	    this.width = w;
	    this.height = h;
	    this.color = color;
	  }
	}
	
	module.exports = Block;

/***/ }),
/* 6 */
/***/ (function(module, exports) {

	class Paddle {
	  constructor(w, h) {
	    this.w = w;
	    this.h = h;
	    this.x = 420 - w;
	    this.y = 430 - h;
	    this.color = '#e0afaf';
	  }
	
	  drawPaddle(context) {
	    context.beginPath();
	    context.rect(this.x, this.y, this.w, this.h);
	    context.stroke();
	    context.fillStyle = this.color;
	    context.fill();
	    context.closePath();
	  }
	
	  movePaddle(rightPressed, leftPressed, canvas) {
	    if (rightPressed && this.x < canvas.width - this.w) {
	      this.x += 6;
	    } else if (leftPressed && this.x > 0) {
	      this.x -= 6;
	    }
	  }
	}
	
	module.exports = Paddle;

/***/ })
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgMjFiNGZlZmMyYmNmMjQ3MmIyYWQiLCJ3ZWJwYWNrOi8vLy4vbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uL2xpYi9HYW1lLmpzIiwid2VicGFjazovLy8uL2xpYi9CYWxsLmpzIiwid2VicGFjazovLy8uL2xpYi9HYW1lcGllY2VzLmpzIiwid2VicGFjazovLy8uL2xpYi9CbG9ja3MuanMiLCJ3ZWJwYWNrOi8vLy4vbGliL0Jsb2NrLmpzIiwid2VicGFjazovLy8uL2xpYi9QYWRkbGUuanMiXSwibmFtZXMiOlsiY2FudmFzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImNvbnRleHQiLCJnZXRDb250ZXh0IiwiR2FtZSIsInJlcXVpcmUiLCJzdGFydEJ1dHRvbiIsInF1ZXJ5U2VsZWN0b3IiLCJ3aW5WaWRlbyIsInJlc3RhcnRCdXR0b24iLCJsZXZlbE51bSIsInN0YXJ0U2NyZWVuIiwibmV3R2FtZSIsImF1ZGlvIiwiQXVkaW8iLCJhdWRpbzIiLCJhdWRpbzMiLCJhdWRpbzQiLCJyaWdodFByZXNzZWQiLCJsZWZ0UHJlc3NlZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZXN0YXJ0R2FtZSIsInN0YXJ0R2FtZSIsImUiLCJrZXlEb3duIiwia2V5VXAiLCJrZXlDb2RlIiwiY2xhc3NMaXN0IiwiYWRkIiwiZ2FtZUxvb3AiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlbG9hZCIsImNsZWFyUmVjdCIsIndpZHRoIiwiaGVpZ2h0IiwiZHJhdyIsIm1vdmUiLCJjb2xsaXNpb24iLCJzdGF0cyIsImdhbWVPdmVyIiwibmV4dExldmVsIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibmV3TGV2ZWwiLCJpbm5lclRleHQiLCJsZXZlbCIsInBsYXkiLCJ3aW4iLCJzdHlsZSIsImRpc3BsYXkiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImxpdmVzIiwic2hvd0dhbWVPdmVyIiwicmVtb3ZlIiwiQmFsbCIsIkJsb2NrcyIsIlBhZGRsZSIsIm5ld0JhbGwiLCJuZXdCbG9ja3MiLCJuZXdQYWRkbGUiLCJjcmVhdGVCbG9ja0FycmF5IiwiY29uc3RydWN0b3IiLCJzY29yZUNvdW50IiwiZHJhd0JhbGwiLCJkcmF3QmxvY2tzIiwiZHJhd1BhZGRsZSIsImZvbnQiLCJmaWxsVGV4dCIsIm1vdmVCYWxsIiwibW92ZVBhZGRsZSIsImJhbGxDb2xsaXNpb24iLCJibG9ja0JhbGxDb2xsaXNpb24iLCJibG9ja3NDb3VudCIsImR4IiwibW9kdWxlIiwiZXhwb3J0cyIsIkdhbWVwaWVjZXMiLCJ4IiwieSIsInJhZGl1cyIsImR5IiwiY29sb3IiLCJiZWdpblBhdGgiLCJhcmMiLCJNYXRoIiwiUEkiLCJmaWxsU3R5bGUiLCJmaWxsIiwiY2xvc2VQYXRoIiwidyIsIkJsb2NrIiwibmV3QmxvY2siLCJibG9ja3NBcnJheSIsImNvdW50IiwiaXNBY3RpdmUiLCJicmlja1giLCJicmlja1kiLCJyZWN0IiwiYyIsInIiLCJzdGF0dXMiLCJibG9ja1giLCJibG9ja1kiLCJlYWNoQmxvY2siLCJoIiwic3Ryb2tlIl0sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdUJBQWU7QUFDZjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7Ozs7OztBQ3RDQSxPQUFNQSxTQUFTQyxTQUFTQyxjQUFULENBQXdCLE1BQXhCLENBQWY7QUFDQSxPQUFNQyxVQUFVSCxPQUFPSSxVQUFQLENBQWtCLElBQWxCLENBQWhCO0FBQ0EsT0FBTUMsT0FBTyxtQkFBQUMsQ0FBUSxDQUFSLENBQWI7QUFDQSxPQUFNQyxjQUFjTixTQUFTTyxhQUFULENBQXVCLFFBQXZCLENBQXBCO0FBQ0EsT0FBTUMsV0FBV1IsU0FBU08sYUFBVCxDQUF1QixRQUF2QixDQUFqQjtBQUNBLE9B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Q0FBVjtBQUNEO0FBQ0Y7QUF4QlU7O0FBMkJiSCxRQUFPQyxPQUFQLEdBQWlCbkIsTUFBakIsQyIsImZpbGUiOiJtYWluLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRleHBvcnRzOiB7fSxcbiBcdFx0XHRpZDogbW9kdWxlSWQsXG4gXHRcdFx0bG9hZGVkOiBmYWxzZVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIDIxYjRmZWZjMmJjZjI0NzJiMmFkIiwiY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhbWUnKTtcbmNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbmNvbnN0IEdhbWUgPSByZXF1aXJlKCcuL0dhbWUuanMnKTtcbmNvbnN0IHN0YXJ0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN0YXJ0Jyk7XG5jb25zdCB3aW5WaWRlbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy52aWRlbycpO1xuY29uc3QgcmVzdGFydEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZVN0YXJ0Jyk7XG5jb25zdCBsZXZlbE51bSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sZXZlbCcpO1xubGV0IHN0YXJ0U2NyZWVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN0YXJ0LXNjcmVlbicpO1xubGV0IG5ld0dhbWUgPSBuZXcgR2FtZSgpO1xubGV0IGF1ZGlvID0gbmV3IEF1ZGlvKCcuL2ltYWdlcy9Cb21iKzIubXAzJyk7XG5sZXQgYXVkaW8yID0gbmV3IEF1ZGlvKCcuL2ltYWdlcy9Qb3dlciBGYWlsdXJlLVNvdW5kQmlibGUuY29tLTE4MjEzNDYxNjYubXAzJyk7XG5sZXQgYXVkaW8zID0gbmV3IEF1ZGlvKCcuL2ltYWdlcy9yYWduYXJva18tX2xldmVsX3VwLm1wMycpO1xubGV0IGF1ZGlvNCA9IG5ldyBBdWRpbygnaW1hZ2VzL2ZhaWwtdHJvbWJvbmUtMDEubXAzJyk7XG5sZXQgcmlnaHRQcmVzc2VkO1xubGV0IGxlZnRQcmVzc2VkO1xuXG53aW5WaWRlby5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJlc3RhcnRHYW1lKTtcbnN0YXJ0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc3RhcnRHYW1lKTtcbnJlc3RhcnRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZXN0YXJ0R2FtZSk7XG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IGtleURvd24oZSksIGZhbHNlKTtcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKGUpID0+IGtleVVwKGUpLCBmYWxzZSk7XG5cbmNvbnN0IGtleURvd24gPSAoZSkgPT4ge1xuICBpZiAoZS5rZXlDb2RlID09PSAzOSkge1xuICAgIHJpZ2h0UHJlc3NlZCA9IHRydWU7XG4gIH0gZWxzZSBpZiAoZS5rZXlDb2RlID09PSAzNykge1xuICAgIGxlZnRQcmVzc2VkID0gdHJ1ZTtcbiAgfVxufTtcblxuY29uc3Qga2V5VXAgPSAoZSkgPT4ge1xuICBpZiAoZS5rZXlDb2RlID09PSAzOSkge1xuICAgIHJpZ2h0UHJlc3NlZCA9IGZhbHNlO1xuICB9IGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gMzcpIHtcbiAgICBsZWZ0UHJlc3NlZCA9IGZhbHNlO1xuICB9XG59O1xuXG5mdW5jdGlvbiBzdGFydEdhbWUoKSB7ICBcbiAgc3RhcnRTY3JlZW4uY2xhc3NMaXN0LmFkZCgnc3RhcnQtZ2FtZScpO1xuICBnYW1lTG9vcCgpO1xufVxuXG5mdW5jdGlvbiByZXN0YXJ0R2FtZSgpIHtcbiAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCh0cnVlKTtcbn1cblxuZnVuY3Rpb24gZ2FtZUxvb3AoKSB7XG4gIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gIG5ld0dhbWUuZHJhdyhjb250ZXh0KTtcbiAgbmV3R2FtZS5tb3ZlKGNhbnZhcywgcmlnaHRQcmVzc2VkLCBsZWZ0UHJlc3NlZCk7XG4gIG5ld0dhbWUuY29sbGlzaW9uKGF1ZGlvLCBhdWRpbzIpO1xuICBuZXdHYW1lLnN0YXRzKGNvbnRleHQpO1xuICBpZiAoZ2FtZU92ZXIoYXVkaW80KSkge1xuICAgIHJldHVybjtcbiAgfSBcbiAgbmV4dExldmVsKCk7XG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZShnYW1lTG9vcCk7XG59XG5cbmZ1bmN0aW9uIG5leHRMZXZlbCgpIHtcbiAgaWYgKG5ld0dhbWUubmV3TGV2ZWwoY29udGV4dCkpIHtcbiAgICBsZXZlbE51bS5pbm5lclRleHQgPSBgTGV2ZWwgJHtuZXdHYW1lLmxldmVsfWA7XG4gICAgYXVkaW8zLnBsYXkoKTtcbiAgICB3aW4oKVxuICB9XG59XG5cbmZ1bmN0aW9uIHdpbigpIHtcbiAgaWYobmV3R2FtZS5sZXZlbCA9PT0gMyl7XG4gICAgd2luVmlkZW8uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2FtZU92ZXIoKSB7XG4gIGlmIChuZXdHYW1lLmxpdmVzID09PSAwKSB7XG4gICAgICBsZXQgc2hvd0dhbWVPdmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNob3ctZ2FtZS1vdmVyJyk7XG4gICAgICAgICAgICBcbiAgICAgIHNob3dHYW1lT3Zlci5jbGFzc0xpc3QucmVtb3ZlKCdnYW1lLW92ZXInKTtcbiAgICAgIGF1ZGlvNC5wbGF5KCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5cblxuXG5cblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbGliL2luZGV4LmpzIiwiY29uc3QgQmFsbCA9IHJlcXVpcmUoJy4vQmFsbC5qcycpO1xuY29uc3QgQmxvY2tzID0gcmVxdWlyZSgnLi9CbG9ja3MuanMnKTtcbmNvbnN0IFBhZGRsZSA9IHJlcXVpcmUoJy4vUGFkZGxlLmpzJyk7XG5sZXQgbmV3QmFsbCA9IG5ldyBCYWxsKDE1MCwgMTM1LCAxMik7XG5sZXQgbmV3QmxvY2tzID0gbmV3IEJsb2NrcygpO1xubGV0IG5ld1BhZGRsZSA9IG5ldyBQYWRkbGUgKDEyMCwgMTUpO1xuXG5uZXdCbG9ja3MuY3JlYXRlQmxvY2tBcnJheSgpO1xuXG5jbGFzcyBHYW1lIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5zY29yZUNvdW50ID0gMDtcbiAgICB0aGlzLmxpdmVzID0gMztcbiAgICB0aGlzLmxldmVsID0gMTtcbiAgfVxuXG4gIGRyYXcoY29udGV4dCkge1xuICAgIG5ld0JhbGwuZHJhd0JhbGwoY29udGV4dCk7XG4gICAgbmV3QmxvY2tzLmRyYXdCbG9ja3MoY29udGV4dCk7XG4gICAgbmV3UGFkZGxlLmRyYXdQYWRkbGUoY29udGV4dCk7XG4gIH1cblxuICBzdGF0cyhjb250ZXh0KSB7XG4gICAgY29udGV4dC5mb250ID0gJzIycHggQXJpYWwnO1xuICAgIGNvbnRleHQuZmlsbFRleHQoYFNjb3JlOiAke3RoaXMuc2NvcmVDb3VudH1gLCAxMCwgMTgpO1xuICAgIGNvbnRleHQuZm9udCA9ICcyMnB4IEFyaWFsJztcbiAgICBjb250ZXh0LmZpbGxUZXh0KGBMaXZlczogJHt0aGlzLmxpdmVzfWAsIDc1MCwgMTgpO1xuICB9XG5cbiAgbW92ZShjYW52YXMsIHJpZ2h0UHJlc3NlZCwgbGVmdFByZXNzZWQpIHtcbiAgICBuZXdCYWxsLm1vdmVCYWxsKGNhbnZhcyk7XG4gICAgbmV3UGFkZGxlLm1vdmVQYWRkbGUocmlnaHRQcmVzc2VkLCBsZWZ0UHJlc3NlZCwgY2FudmFzKTtcbiAgfVxuXG4gIGNvbGxpc2lvbihhdWRpbywgYXVkaW8yKSB7XG4gICAgbmV3QmFsbC5iYWxsQ29sbGlzaW9uKG5ld1BhZGRsZSk7XG4gICAgaWYgKG5ld0JhbGwuZ2FtZU92ZXIobmV3UGFkZGxlKSkge1xuICAgICAgYXVkaW8yLnBsYXkoKTtcbiAgICAgIHRoaXMubGl2ZXMtLTtcbiAgICAgIG5ld0JhbGwgPSBuZXcgQmFsbCgxNTAsIDEzNSwgMTIpO1xuICAgIH1cbiAgICBpZiAobmV3QmxvY2tzLmJsb2NrQmFsbENvbGxpc2lvbihuZXdCYWxsKSkge1xuICAgICAgYXVkaW8ucGxheSgpO1xuICAgICAgdGhpcy5zY29yZUNvdW50Kys7XG4gICAgfVxuICB9XG5cbiAgbmV3TGV2ZWwoY29udGV4dCkge1xuICAgIGlmIChuZXdCbG9ja3MuYmxvY2tzQ291bnQoKSkge1xuICAgICAgdGhpcy5sZXZlbCsrO1xuICAgICAgbmV3QmFsbCA9IG5ldyBCYWxsKDE1MCwgMTM1LCAxMik7XG4gICAgICBuZXdCYWxsLmR4Kys7XG4gICAgICBuZXdCbG9ja3MgPSBuZXcgQmxvY2tzKDY4LCAyMCk7XG4gICAgICBuZXdQYWRkbGUgPSBuZXcgUGFkZGxlICg4MCwgMTUpO1xuICAgICAgbmV3QmxvY2tzLmNyZWF0ZUJsb2NrQXJyYXkoKTtcbiAgICAgIHRoaXMuZHJhdyhjb250ZXh0KTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEdhbWU7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbGliL0dhbWUuanMiLCJjb25zdCBHYW1lcGllY2VzID0gcmVxdWlyZSgnLi9HYW1lcGllY2VzLmpzJyk7XG5cbmNsYXNzIEJhbGwgZXh0ZW5kcyBHYW1lcGllY2VzIHtcbiAgY29uc3RydWN0b3IoeCwgeSwgcmFkaXVzKSB7XG4gICAgc3VwZXIoeCwgeSk7XG4gICAgdGhpcy5yYWRpdXMgPSByYWRpdXM7XG4gICAgdGhpcy5keCA9IDQ7XG4gICAgdGhpcy5keSA9IDQ7XG4gICAgdGhpcy5jb2xvciA9ICd3aGl0ZSc7XG4gIH1cblxuICBkcmF3QmFsbChjb250ZXh0KSB7XG4gICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICBjb250ZXh0LmFyYyh0aGlzLngsIHRoaXMueSwgdGhpcy5yYWRpdXMsIDAsIDIgKiBNYXRoLlBJLCBmYWxzZSk7XG4gICAgY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xuICAgIGNvbnRleHQuZmlsbCgpO1xuICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gIH1cblxuICBtb3ZlQmFsbChjYW52YXMpIHtcbiAgICBpZiAodGhpcy54ICsgdGhpcy5yYWRpdXMgPiBjYW52YXMud2lkdGggfHwgdGhpcy54IDwgMTApIHtcbiAgICAgIHRoaXMuZHggPSAtIHRoaXMuZHg7XG4gICAgfVxuICAgIGlmICh0aGlzLnkgKyB0aGlzLnJhZGl1cyA8IDEwKSB7XG4gICAgICB0aGlzLmR5ID0gLSB0aGlzLmR5O1xuICAgIH1cbiAgICB0aGlzLnggKz0gdGhpcy5keDtcbiAgICB0aGlzLnkgKz0gdGhpcy5keTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGJhbGxDb2xsaXNpb24obmV3UGFkZGxlKSB7XG4gICAgaWYgKHRoaXMueCArIHRoaXMucmFkaXVzID4gbmV3UGFkZGxlLnggKyAzICYmXG4gICAgICB0aGlzLnggLSB0aGlzLnJhZGl1cyAtIDIgPCBuZXdQYWRkbGUueCArIG5ld1BhZGRsZS53ICYmXG4gICAgICAgdGhpcy55ICsgdGhpcy5yYWRpdXMgPj0gbmV3UGFkZGxlLnkpIHtcbiAgICAgIHRoaXMuZHkgPSAtIHRoaXMuZHk7XG4gICAgfVxuICB9XG5cbiAgZ2FtZU92ZXIobmV3UGFkZGxlKSB7XG4gICAgaWYgKHRoaXMueSAtIHRoaXMucmFkaXVzID49IG5ld1BhZGRsZS55KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBCYWxsO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2xpYi9CYWxsLmpzIiwiY2xhc3MgR2FtZXBpZWNlcyB7XG4gIGNvbnN0cnVjdG9yKHgsIHkpIHtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBHYW1lcGllY2VzO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2xpYi9HYW1lcGllY2VzLmpzIiwiY29uc3QgQmxvY2sgPSByZXF1aXJlKCcuL0Jsb2NrLmpzJyk7XG5jb25zdCBuZXdCbG9jayA9IG5ldyBCbG9jayg2OCwgMjAsICcjNWY3YjdkJyk7XG5cbmNsYXNzIEJsb2NrcyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuYmxvY2tzQXJyYXkgPSBbXTtcbiAgICB0aGlzLmNvdW50ID0gMDtcbiAgfVxuICBcbiAgaXNBY3RpdmUoY29udGV4dCwgYnJpY2tYLCBicmlja1kpIHtcbiAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgIGNvbnRleHQucmVjdChicmlja1gsIGJyaWNrWSwgbmV3QmxvY2sud2lkdGgsIG5ld0Jsb2NrLmhlaWdodCk7XG4gICAgY29udGV4dC5maWxsU3R5bGUgPSBuZXdCbG9jay5jb2xvcjtcbiAgICBjb250ZXh0LmZpbGwoKTtcbiAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICB9IFxuXG4gIGNyZWF0ZUJsb2NrQXJyYXkoKSB7XG4gICAgZm9yIChsZXQgYyA9IDA7IGMgPCAxMTsgYysrKSB7XG4gICAgICB0aGlzLmJsb2Nrc0FycmF5W2NdID0gW107XG4gICAgICBmb3IgKGxldCByID0gMDsgciA8IDQ7IHIrKykge1xuICAgICAgICB0aGlzLmJsb2Nrc0FycmF5W2NdW3JdID0ge1xuICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgeTogMCxcbiAgICAgICAgICBzdGF0dXM6ICdhY3RpdmUnLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAgXG4gIGRyYXdCbG9ja3MoY29udGV4dCkgeyBcbiAgICBmb3IgKGxldCBjID0gMDsgYyA8IDExOyBjKyspIHtcbiAgICAgIGZvciAobGV0IHIgPSAwOyByIDwgNDsgcisrKSB7XG4gICAgICAgIGlmICh0aGlzLmJsb2Nrc0FycmF5W2NdW3JdLnN0YXR1cyA9PT0gJ2FjdGl2ZScpIHtcbiAgICAgICAgICBsZXQgYmxvY2tYID0gKGMgKiAobmV3QmxvY2sud2lkdGggKyA1KSkgKyAyMDtcbiAgICAgICAgICBsZXQgYmxvY2tZID0gKHIgKiAobmV3QmxvY2suaGVpZ2h0ICsgNSkpICsgMjU7XG5cbiAgICAgICAgICB0aGlzLmJsb2Nrc0FycmF5W2NdW3JdLnggPSBibG9ja1g7XG4gICAgICAgICAgdGhpcy5ibG9ja3NBcnJheVtjXVtyXS55ID0gYmxvY2tZOyBcbiAgICAgICAgICB0aGlzLmlzQWN0aXZlKGNvbnRleHQsIGJsb2NrWCwgYmxvY2tZKTtcbiAgICAgICAgfSBcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBibG9ja0JhbGxDb2xsaXNpb24obmV3QmFsbCkge1xuICAgIGZvciAobGV0IGMgPSAwOyBjIDwgMTE7IGMrKykge1xuICAgICAgZm9yIChsZXQgciA9IDA7IHIgPCA0OyByKyspIHtcbiAgICAgICAgbGV0IGVhY2hCbG9jayA9IHRoaXMuYmxvY2tzQXJyYXlbY11bcl07XG5cbiAgICAgICAgaWYgKGVhY2hCbG9jay5zdGF0dXMgPT09ICdhY3RpdmUnKSB7XG4gICAgICAgICAgaWYgKG5ld0JhbGwueCA+IGVhY2hCbG9jay54ICYmIG5ld0JhbGwueCA8IGVhY2hCbG9jay54ICsgbmV3QmxvY2sud2lkdGggJiZcbiAgICAgICAgICAgIG5ld0JhbGwueSAtIG5ld0JhbGwucmFkaXVzIDwgZWFjaEJsb2NrLnkgKyBuZXdCbG9jay5oZWlnaHQgJiZcbiAgICAgICAgICAgIG5ld0JhbGwueSAtIG5ld0JhbGwucmFkaXVzIDwgZWFjaEJsb2NrLnkgKyBuZXdCbG9jay5oZWlnaHQpIHtcbiAgICAgICAgICAgIG5ld0JhbGwuZHkgPSAtIG5ld0JhbGwuZHk7XG4gICAgICAgICAgICBlYWNoQmxvY2suc3RhdHVzID0gJ2luYWN0aXZlJztcbiAgICAgICAgICAgIHRoaXMuY291bnQrKztcbiAgICAgICAgICAgIHRoaXMuYmxvY2tzQ291bnQoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBibG9ja3NDb3VudCgpIHtcbiAgICBpZiAodGhpcy5jb3VudCA9PT0gNDQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEJsb2NrcztcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9saWIvQmxvY2tzLmpzIiwiY2xhc3MgQmxvY2sge1xuICBjb25zdHJ1Y3Rvcih3LCBoLCBjb2xvcikge1xuICAgIHRoaXMud2lkdGggPSB3O1xuICAgIHRoaXMuaGVpZ2h0ID0gaDtcbiAgICB0aGlzLmNvbG9yID0gY29sb3I7XG4gIH1cbn1cblxuICBtb2R1bGUuZXhwb3J0cyA9IEJsb2NrO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2xpYi9CbG9jay5qcyIsImNsYXNzIFBhZGRsZSB7XG4gIGNvbnN0cnVjdG9yKHcsIGgpIHtcbiAgICB0aGlzLncgPSB3O1xuICAgIHRoaXMuaCA9IGg7XG4gICAgdGhpcy54ID0gKDQyMCAtIHcpO1xuICAgIHRoaXMueSA9ICg0MzAgIC0gaCk7XG4gICAgdGhpcy5jb2xvciA9ICcjZTBhZmFmJztcbiAgfVxuXG4gIGRyYXdQYWRkbGUoY29udGV4dCkge1xuICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgY29udGV4dC5yZWN0KHRoaXMueCwgdGhpcy55LCB0aGlzLncsIHRoaXMuaCk7XG4gICAgY29udGV4dC5zdHJva2UoKTtcbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7XG4gICAgY29udGV4dC5maWxsKCk7XG4gICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgfVxuXG4gIG1vdmVQYWRkbGUocmlnaHRQcmVzc2VkLCBsZWZ0UHJlc3NlZCwgY2FudmFzKSB7XG4gICAgaWYgKHJpZ2h0UHJlc3NlZCAmJiB0aGlzLnggPCBjYW52YXMud2lkdGggLSB0aGlzLncpIHtcbiAgICAgIHRoaXMueCArPSA2O1xuICAgIH0gZWxzZSBpZiAobGVmdFByZXNzZWQgJiYgdGhpcy54ID4gMCkge1xuICAgICAgdGhpcy54IC09IDY7XG4gICAgfVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUGFkZGxlO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2xpYi9QYWRkbGUuanMiXSwic291cmNlUm9vdCI6IiJ9